<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dice Sushi</title>

<style>
body {
    font-family: system-ui, sans-serif;
    background: #f4f6f8;
    text-align: center;
    padding: 20px;
}

.box {
    background: white;
    padding: 20px;
    border-radius: 12px;
    max-width: 420px;
    margin: auto;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

button {
    margin: 5px;
    padding: 10px 18px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
}

.roll { background: #4CAF50; color: white; }
.undo { background: #FF9800; color: white; }
.reset { background: #F44336; color: white; }

#menu { font-weight: bold; }

#historyList {
    list-style: none;
    padding: 0;
    margin-top: 10px;
    max-height: 200px;
    overflow-y: auto;
}

#historyList li {
    background: #ffffff;
    margin: 5px auto;
    padding: 8px;
    border-radius: 6px;
    font-size: 14px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
}
</style>
</head>

<body>

<div class="box">
    <h1>ğŸ² Dice Sushi</h1>

    <p id="dice">å‡ºç›®ï¼š-</p>
    <p id="menu">ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼š-</p>
    <p id="price">æ–™é‡‘ï¼š-</p>
    <p id="total">åˆè¨ˆï¼š0å††</p>

    <button class="roll" onclick="rollDice()">æŒ¯ã‚‹</button>
    <button class="undo" onclick="undo()">Undo</button>
    <button class="reset" onclick="resetAll()">Reset</button>

    <h2>ğŸ“œ å±¥æ­´</h2>
    <ul id="historyList"></ul>
</div>

<script>
const menus = {
    1: ["å¥½ããªãƒ¡ãƒ‹ãƒ¥ãƒ¼", 0],
    2: ["å¥½ããªæ¡ã‚Š", 0],
    3: ["å¥½ããªè»è‰¦", 0],
    4: ["å¥½ããªã‚µã‚¤ãƒ‰", 0],
    5: ["å¥½ããªã‚·ãƒŠãƒ¢ãƒ­ãƒ¼ãƒ«â™¡", 0],

    // 6ï½10
    6: ["ãƒãƒ¼ã‚ºã‚±ãƒ¼ã‚­", 115],
    7: ["ã­ãã¾ãã‚", 115],
    8: ["ã¶ã‚Šé†¤æ²¹éº¹", 115],
    9: ["å¤§ç››ã‚Šè²æŸ±", 115],
    10: ["ã‚†ãšå¡©ã‹ã¤ãŠãŸãŸã", 115],

    // 11ï½15
    11: ["ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆãƒ ãƒ¼ã‚¹ã‚¼ãƒªãƒ¼ï¼ˆã¶ã©ã†é¢¨å‘³ï¼‰", 115],
    12: ["ã‚µãƒ¼ãƒ¢ãƒ³", 115],
    13: ["ãˆã³", 115],
    14: ["ç”Ÿãˆã³", 115],
    15: ["æ´»ã€†ãƒ‘ãƒ³ã‚¬ã‚·ã‚¦ã‚¹", 115],

    // 16ï½20
    16: ["å¤©ç„¶ã ã—ã†ã©ã‚“", 115],
    17: ["ã‚†ãšã‹ã‚Œã„", 115],
    18: ["ç‰›ã™ãç„¼ãé¢¨", 115],
    19: ["ã¾ãã‚ã‚¢ãƒœã‚«ãƒ‰ãƒãƒ¼ã‚º", 115],
    20: ["ã‚µãƒ¼ãƒ¢ãƒ³ã‚¢ãƒœã‚«ãƒ‰ãƒãƒ¼ã‚º", 115],

    // 21ï½25
    21: ["ç´”èµ¤ã ã—", 115],
    22: ["ã„ã‹", 115],
    23: ["ã‚ãªã”", 115],
    24: ["ãŸã¾ã”ç„¼ã", 115],
    25: ["æ¥µæ—¨ã‚«ãƒ‹ã‚«ãƒ", 115],

    // 26ï½30
    26: ["ãƒ—ãƒ¬ãƒŸã‚¢ã‚¢ã‚¤ã‚¹ãƒ©ãƒ†", 115],
    27: ["æ—¨ã ã‚Œç‰›ã‚«ãƒ«ãƒ“", 115],
    28: ["ãƒãƒ³ãƒãƒ¼ã‚°", 115],
    29: ["ç†Ÿæˆã¾ãã‚", 115],
    30: ["çœŸã„ã‚ã—", 115],

    // 31ï½35
    31: ["ãƒ—ãƒ¬ãƒŸã‚¢ãƒ›ãƒƒãƒˆãƒ©ãƒ†", 115],
    32: ["è‚‰åšã¨ã‚ã€†ã•ã°", 115],
    33: ["ãƒ“ãƒ³ãƒˆãƒ­", 115],
    34: ["ã¯ã¾ã¡", 115],
    35: ["ã‚ªãƒ‹ã‚ªãƒ³ã‚µãƒ¼ãƒ¢ãƒ³", 115],

    // 36ï½40
    36: ["ãƒ—ãƒ¬ãƒŸã‚¢ã‚¢ã‚¤ã‚¹çˆç²", 115],
    37: ["ãˆã³ã‚¢ãƒœã‚«ãƒ‰", 115],
    38: ["ã„ã‹å¤©ã«ãã‚Š", 115],
    39: ["ã‚ã¶ã‚Šãˆã³ãƒãƒ¼ã‚º", 115],
    40: ["ã‚ã¶ã‚Šãƒãƒ¼ã‚ºè±šã‚«ãƒ«ãƒ“", 115],

    // 41ï½45
    41: ["ãƒ—ãƒ¬ãƒŸã‚¢ãƒ›ãƒƒãƒˆçˆç²", 115],
    42: ["ãˆã‚“ãŒã‚ï¼ˆã‹ã‚Œã„ï¼‰", 115],
    43: ["ã‚ã˜", 115],
    44: ["ç„¼ãã¯ã‚‰ã™", 115],
    45: ["ã¤ã¶è²", 115],

    // 46ï½50
    46: ["ä¹³é…¸èŒã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼", 115],
    47: ["æœ¬æ ¼ãƒãƒ³ãƒãƒ¼ã‚°", 115],
    48: ["ç†Ÿæˆãµãï¼ˆä¸€è²«ï¼‰", 115],
    49: ["å›½ç”£å¯’ã²ã‚‰ã‚ï¼ˆä¸€è²«ï¼‰", 115],
    50: ["æµ·é®®ãƒ¦ãƒƒã‚±", 115],

    // 51ï½55
    51: ["å®‡æ²»æŠ¹èŒ¶å…¥ã‚Šç·‘èŒ¶", 115],
    52: ["ãŸã‚‰ãƒãƒ¨", 115],
    53: ["ã¾ããŸã", 115],
    54: ["ã‹ãšã®ã“è»è‰¦", 115],
    55: ["ã„ã‹ãŠãã‚‰", 115],

    // 56ï½60
    56: ["ã‚Šã‚“ã”", 115],
    57: ["ã­ãã¾ãã‚è»è‰¦", 115],
    58: ["ã‚³ãƒ¼ãƒ³", 115],
    59: ["ç…§ã‚Šç„¼ããƒã‚­ãƒ³", 115],
    60: ["ãˆã³ãƒãƒ¨", 115],

    // 61ï½65
    61: ["ã‚ªãƒ¬ãƒ³ã‚¸", 115],
    62: ["ã‚µãƒ©ãƒ€", 115],
    63: ["ãƒ„ãƒŠã‚µãƒ©ãƒ€", 115],
    64: ["ã‚·ãƒ¼ãƒ•ãƒ¼ãƒ‰ã‚µãƒ©ãƒ€", 115],
    65: ["ãã‚…ã†ã‚Šå·»", 115],

    // 66ï½70
    66: ["ã‚ã‚ã‚“ã‚µã‚¤ãƒ€ãƒ¼", 115],
    67: ["ã‹ã‚“ã´ã‚‡ã†å·»", 115],
    68: ["ã„ãªã‚Š", 115],
    69: ["ç”˜ãˆã³ãƒãƒ¨", 115],
    70: ["ã¾ãã‚ãƒ¦ãƒƒã‚±", 115],

    // 71ï½75
    71: ["ã‚ã¾ã–ã‘é¢¨ã‚µã‚¤ãƒ€ãƒ¼", 115],
    72: ["ã†ãªç‰", 115],
    73: ["é´¨ã®ãƒ­ãƒ¼ã‚¹ãƒˆãƒˆãƒªãƒ¥ãƒ•ã‚½ãƒ¼ã‚¹", 115],
    74: ["ãƒã‚­ãƒ³ã‚¢ãƒ‰ãƒœ", 115],
    75: ["ã‚«ãƒªãƒ•ãƒ©ãƒ¯ãƒ¼ãƒŠã‚²ãƒƒãƒˆ", 115],

    // 76ï½80
    76: ["ã¶ã©ã†ã‚µã‚¤ãƒ€ãƒ¼", 115],
    77: ["ãƒŸãƒ‹ã“ã‚ãƒã‚­ãƒ³", 115],
    78: ["ã‚ªãƒ‹ã‚ªãƒ³ãƒªãƒ³ã‚°", 115],
    79: ["ã¨ã†ã‚‚ã‚ã“ã—ã®ã‹ãæšã’", 115],
    80: ["å°æµ·è€å”æšã’", 115],

    // 81ï½85
    81: ["ã€ç„¡æ·»ã€‘ã‚³ãƒ¼ãƒ©", 115],
    82: ["ã„ã‹è»Ÿéª¨å”æšã’", 115],
    83: ["ãã‚‰å‡ºæ±", 115],
    84: ["ã‚¦ãƒ ã‚¢ãƒª", 115],
    85: ["ãƒãƒ€ã‚¬ã‚¹ã‚«ãƒ«ãƒãƒ‹ãƒ©ãƒ‘ãƒ³ã‚±ãƒ¼ã‚­", 115],

    // 86ï½90
    86: ["å¤§å­¦èŠ‹ã‚¹ãƒ†ã‚£ãƒƒã‚¯", 115],
    87: ["äº¬ã‚ã‚‰ã³ã‚‚ã¡", 115],
    88: ["ãã‚‰ã ã‚“ã” ã¿ãŸã‚‰ã—", 115],
    89: ["ãƒ—ãƒªãƒ³ã‚¿ãƒ«ãƒˆ", 115],
    90: ["æ„Ÿå‹•ã®ã·ã‚Šã‚“", 115],

    // 91ï½95
    91: ["æ¿ƒåšãƒãƒ‹ãƒ©ã‚¢ã‚¤ã‚¹", 115],
    92: ["ãƒãƒ§ã‚³ã‚¢ã‚¤ã‚¹", 115],
    93: ["å·¨å³°ã‚·ãƒ£ãƒ¼ãƒ™ãƒƒãƒˆ", 115],
    94: ["ç‰¹è£½èŒ¶ç¢—è’¸ã—", 115],
    95: ["è‡³ç¦ã®ãƒ›ãƒƒã¨ãœã‚“ã–ã„", 115],

    // ãƒ•ã‚¡ãƒ³ãƒ–ãƒ«
    96: ["3çš¿ã‚¹ãƒ—ãƒ¼ãƒ³ã§ãŠé£Ÿäº‹", 0],
    97: ["å³éš£ã«äººã¨ä¹¾æ¯ï¼ˆå¼•ã„ãŸäººãŒå¥¢ã‚Šï¼‰", 0],
    98: ["èŠ³é†‡å®‡æ²»æŠ¹èŒ¶ãƒ‘ãƒ•ã‚§", 530],
    99: ["é…’", 0],
    100: ["å¯¿å¸ãƒã‚¿ã§ã‚­ãƒ£ãƒ©ãƒ‡ã‚¶", 0]
};

let history = [];
let totalPrice = 0;

function rollDice() {
    const dice = Math.floor(Math.random() * 100) + 1;
    const item = menus[dice] || ["é€šå¸¸ãƒ¡ãƒ‹ãƒ¥ãƒ¼",115];

    totalPrice += item[1];
    history.push({ dice, menu: item[0], price: item[1] });

    updateDisplay(dice, item[0], item[1]);
    updateTotal();
    renderHistory();
}

function undo() {
    if (history.length === 0) return;

    const last = history.pop();
    totalPrice -= last.price;

    if (history.length > 0) {
        const prev = history[history.length - 1];
        updateDisplay(prev.dice, prev.menu, prev.price);
    } else {
        clearDisplay();
    }

    updateTotal();
    renderHistory();
}

function resetAll() {
    history = [];
    totalPrice = 0;
    clearDisplay();
    updateTotal();
    renderHistory();
}

function updateDisplay(dice, menu, price) {
    document.getElementById("dice").textContent = `å‡ºç›®ï¼š${dice}`;
    document.getElementById("menu").textContent = `ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼š${menu}`;
    document.getElementById("price").textContent = `æ–™é‡‘ï¼š${price}å††`;

    const menuEl = document.getElementById("menu");
    if  (dice <= 5) {
        menuEl.style.color = "blue";
    } else if (dice >= 96) {
        menuEl.style.color = "red";
    } else {
        menuEl.style.color = "black";
    }
}

function clearDisplay() {
    document.getElementById("dice").textContent = "å‡ºç›®ï¼š-";
    document.getElementById("menu").textContent = "ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼š-";
    document.getElementById("price").textContent = "æ–™é‡‘ï¼š-";
    document.getElementById("menu").style.color = "black";
}

function updateTotal() {
    document.getElementById("total").textContent = `åˆè¨ˆï¼š${totalPrice}å††`;
}

function renderHistory() {
    const list = document.getElementById("historyList");
    list.innerHTML = "";

    history.slice().reverse().forEach(h => {
        const li = document.createElement("li");
        li.textContent = `ğŸ²${h.dice}ï½œ${h.menu}ï½œ${h.price}å††`;
        list.appendChild(li);
    });
}
</script>

</body>
</html>
